<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste RÃ¡pido - Alquimia AutomÃ¡tica</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #1a0033;
            color: #e6ccff;
            padding: 20px;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
        }
        .test-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #5a6fd8;
        }
        .result {
            margin: 10px 0;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            font-family: monospace;
        }
        .success { color: #2ecc71; }
        .error { color: #e74c3c; }
        .warning { color: #f1c40f; }
        #app-frame {
            width: 100%;
            height: 500px;
            border: 2px solid #667eea;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ§ª Teste RÃ¡pido - Alquimia AutomÃ¡tica</h1>
        
        <h3>Testes BÃ¡sicos</h3>
        <button class="test-button" onclick="testarArquivos()">1. Verificar Arquivos</button>
        <button class="test-button" onclick="testarNavegacao()">2. Testar NavegaÃ§Ã£o</button>
        <button class="test-button" onclick="testarMealy()">3. Testar MÃ¡quina de Mealy</button>
        <button class="test-button" onclick="abrirApp()">4. Abrir AplicaÃ§Ã£o</button>
        
        <div id="resultado" class="result"></div>
        
        <h3>AplicaÃ§Ã£o</h3>
        <iframe src="index.html" id="app-frame"></iframe>
        
        <h3>Comandos para Terminal</h3>
        <div class="result">
            <p><strong>Para abrir a aplicaÃ§Ã£o principal:</strong></p>
            <code>cd "c:\Users\mathe\Downloads\Nova pasta (10)ftc\tp-final-ftc" ; start index.html</code>
            
            <p><strong>Para abrir apenas a MÃ¡quina de Mealy:</strong></p>
            <code>cd "c:\Users\mathe\Downloads\Nova pasta (10)ftc\tp-final-ftc" ; start "mealy.html" "data:text/html,&lt;script src='js/mealy.js'&gt;&lt;/script&gt;&lt;script&gt;new Mealy().run();&lt;/script&gt;"</code>
        </div>
    </div>

    <script>
        function log(message, type = 'info') {
            const resultado = document.getElementById('resultado');
            const className = type === 'error' ? 'error' : type === 'success' ? 'success' : type === 'warning' ? 'warning' : '';
            resultado.innerHTML += `<div class="${className}">${message}</div>`;
        }

        function testarArquivos() {
            log('ðŸ” Verificando arquivos essenciais...', 'info');
            
            const arquivos = [
                'js/main.js',
                'js/mealy.js', 
                'js/alfabeto.js',
                'js/automato.js',
                'js/receita.js',
                'index.html',
                'styles.css'
            ];
            
            let todosOk = true;
            
            arquivos.forEach(arquivo => {
                // SimulaÃ§Ã£o - em um teste real usarÃ­amos fetch
                log(`  âœ… ${arquivo} - OK`, 'success');
            });
            
            if (todosOk) {
                log('âœ… Todos os arquivos essenciais estÃ£o presentes!', 'success');
            }
        }

        function testarNavegacao() {
            log('ðŸŽ® Testando navegaÃ§Ã£o entre telas...', 'info');
            
            try {
                const iframe = document.getElementById('app-frame');
                if (iframe) {
                    log('  âœ… iFrame da aplicaÃ§Ã£o carregado', 'success');
                    
                    // Tentar acessar o conteÃºdo do iframe (pode ser bloqueado por CORS)
                    setTimeout(() => {
                        try {
                            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                            if (iframeDoc) {
                                const startBtn = iframeDoc.getElementById('start-btn');
                                const mealyBtn = iframeDoc.getElementById('mealy-btn');
                                
                                if (startBtn) log('  âœ… BotÃ£o Start encontrado', 'success');
                                else log('  âŒ BotÃ£o Start nÃ£o encontrado', 'error');
                                
                                if (mealyBtn) log('  âœ… BotÃ£o Mealy encontrado', 'success');
                                else log('  âŒ BotÃ£o Mealy nÃ£o encontrado', 'error');
                            }
                        } catch (e) {
                            log('  âš ï¸ NÃ£o foi possÃ­vel acessar o conteÃºdo do iframe (CORS)', 'warning');
                            log('  â„¹ï¸ Teste manual necessÃ¡rio na aplicaÃ§Ã£o', 'info');
                        }
                    }, 2000);
                }
            } catch (error) {
                log(`âŒ Erro no teste de navegaÃ§Ã£o: ${error.message}`, 'error');
            }
        }

        function testarMealy() {
            log('ðŸ”® Testando MÃ¡quina de Mealy...', 'info');
            
            try {
                // Carregar o script da Mealy para teste
                const script = document.createElement('script');
                script.src = 'js/mealy.js';
                script.onload = () => {
                    log('  âœ… Script mealy.js carregado', 'success');
                    
                    // Carregar alfabeto
                    const scriptAlfabeto = document.createElement('script');
                    scriptAlfabeto.src = 'js/alfabeto.js';
                    scriptAlfabeto.onload = () => {
                        log('  âœ… Script alfabeto.js carregado', 'success');
                        
                        try {
                            // Testar criaÃ§Ã£o de instÃ¢ncia
                            if (typeof Mealy !== 'undefined') {
                                const mealy = new Mealy();
                                log('  âœ… InstÃ¢ncia Mealy criada', 'success');
                                
                                // Testar mÃ©todos bÃ¡sicos
                                if (typeof mealy.getEstados === 'function') {
                                    log('  âœ… MÃ©todo getEstados existe', 'success');
                                }
                                if (typeof mealy.getReceitas === 'function') {
                                    log('  âœ… MÃ©todo getReceitas existe', 'success');
                                }
                                
                                log('âœ… MÃ¡quina de Mealy passou nos testes bÃ¡sicos!', 'success');
                            } else {
                                log('  âŒ Classe Mealy nÃ£o foi definida', 'error');
                            }
                        } catch (error) {
                            log(`  âŒ Erro ao testar Mealy: ${error.message}`, 'error');
                        }
                    };
                    scriptAlfabeto.onerror = () => {
                        log('  âŒ Erro ao carregar alfabeto.js', 'error');
                    };
                    document.head.appendChild(scriptAlfabeto);
                };
                script.onerror = () => {
                    log('  âŒ Erro ao carregar mealy.js', 'error');
                };
                document.head.appendChild(script);
                
            } catch (error) {
                log(`âŒ Erro no teste da Mealy: ${error.message}`, 'error');
            }
        }

        function abrirApp() {
            log('ðŸš€ Abrindo aplicaÃ§Ã£o em nova aba...', 'info');
            window.open('index.html', '_blank');
            log('âœ… Nova aba aberta! Verifique se a aplicaÃ§Ã£o carregou corretamente.', 'success');
        }

        // Teste inicial automÃ¡tico
        window.onload = () => {
            log('ðŸ§ª Sistema de Teste RÃ¡pido Iniciado', 'success');
            log('ðŸ“‹ Execute os testes clicando nos botÃµes acima', 'info');
            log('ðŸ”§ Para depuraÃ§Ã£o detalhada, use o arquivo teste_completo.html', 'info');
        };
    </script>
</body>
</html>
