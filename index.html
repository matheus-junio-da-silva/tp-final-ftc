<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alquimia Autom√°tica - Simulador de Po√ß√µes</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=MedievalSharp&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Bot√£o de controle de som -->
        <button id="sound-toggle" class="sound-toggle-button" title="Controlar Som">üîä</button>
        
        <!-- Tela de T√≠tulo -->
        <div id="title-screen" class="screen active">
            <div class="title-art">
                <h1 class="main-title">ALQUIMIA AUTOM√ÅTICA</h1>
                <div class="subtitle">Simulador de Po√ß√µes com Aut√¥matos</div>
            </div>
            <button id="start-btn" class="magic-button">Come√ßar Aventura</button>
        </div>

        <!-- Menu Principal -->
        <div id="main-menu" class="screen">
            <div class="menu-container">
                <h2>Qual tipo de aut√¥mato deseja usar?</h2>
                <div class="menu-options">
                    <button id="automato-btn" class="option-button">1 - Aut√¥mato Determin√≠stico</button>
                    <button id="mealy-btn" class="option-button">2 - M√°quina de Mealy</button>
                    <button id="moore-btn" class="option-button">3 - M√°quina de Moore</button>
                    <button id="turing-btn" class="option-button">4 - M√°quina de Turing</button>
                    <button id="exit-btn" class="option-button exit">5 - Sair</button>
                </div>
                <div class="obs">OBS: Tipo do Aut√¥mato Determin√≠stico √© determinado pela entrada ;)</div>
            </div>
        </div>

        <!-- Tela de Sele√ß√£o de Receita -->
        <div id="recipe-selection" class="screen">
            <div class="selection-container">
                <h2>Escolha sua Receita</h2>
                <div class="input-group">
                    <label for="recipe-input">Insira o nome da receita desejada (sem .txt):</label>
                    <input type="text" id="recipe-input" placeholder="Ex: pocao_da_sabedoria">
                    <button id="load-recipe-btn" class="magic-button">Carregar Receita</button>
                </div>
                
                <div id="recipe-list" class="recipe-list">
                    <h3>Receitas Dispon√≠veis:</h3>
                    <div class="recipe-grid">
                        <div class="recipe-card" data-recipe="pocao_da_sabedoria">Po√ß√£o da Sabedoria</div>
                        <div class="recipe-card" data-recipe="receita_da_morte">Receita da Morte</div>
                        <div class="recipe-card" data-recipe="pocao_de_restauracao_comum">Po√ß√£o de Restaura√ß√£o Comum</div>
                        <div class="recipe-card" data-recipe="pocao_ciclica">Po√ß√£o C√≠clica</div>
                        <div class="recipe-card" data-recipe="receita1">Receita 1</div>
                        <div class="recipe-card" data-recipe="receitaAPD">Receita APD</div>
                        <div class="recipe-card" data-recipe="receitand">Receita ND</div>
                        <div class="recipe-card" data-recipe="receitand2">Receita ND2</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tela de Cria√ß√£o de Po√ß√£o -->
        <div id="potion-creation" class="screen">
            <div class="creation-container">
                <h2>Criando Po√ß√µes</h2>
                
                <div class="options-bar">
                    <button id="show-recipe-btn" class="info-button">Ver Receita</button>
                    <button id="show-ingredients-btn" class="info-button">Ver Ingredientes</button>
                </div>

                <div class="cauldron-area">
                    <div class="cauldron">
                        <div class="cauldron-content" id="cauldron-content">
                            <div class="bubbles"></div>
                        </div>
                    </div>
                </div>

                <div class="ingredient-input">
                    <label for="ingredient-input" id="ingredient-label">Insira o s√≠mbolo do primeiro ingrediente:</label>
                    <input type="text" id="ingredient-input" maxlength="3" placeholder="Ex: biz">
                    <button id="add-ingredient-btn" class="magic-button">Adicionar Ingrediente</button>
                    <button id="finish-potion-btn" class="magic-button secondary" style="display: none;">Finalizar Po√ß√£o</button>
                </div>

                <div id="potion-log" class="potion-log"></div>
            </div>
        </div>

        <!-- Tela de M√°quina de Mealy -->
        <div id="mealy-machine" class="screen">
            <div class="mealy-container">
                <h2>M√°quina de Mealy - Avalia√ß√£o do Or√°culo M√≠stico</h2>
                
                <div class="options-bar">
                    <button id="view-mealy-machine-btn" class="info-button">Ver M√°quina</button>
                    <button id="view-mealy-effects-btn" class="info-button">Ver Efeitos</button>
                    <button id="view-mealy-alphabet-btn" class="info-button">Ver Alfabeto</button>
                    <button id="view-mealy-recipes-btn" class="info-button">Ver Receitas</button>
                </div>
                
                <div class="oraculo-area">
                    <div class="oraculo" id="oraculo">üîÆ</div>
                    <div class="speech-bubble" id="speech-bubble" style="display: none;">
                        <div id="speech-text"></div>
                    </div>
                </div>

                <div class="ingredient-input">
                    <label for="mealy-ingredient-input" id="mealy-ingredient-label">Insira o s√≠mbolo do primeiro ingrediente:</label>
                    <input type="text" id="mealy-ingredient-input" maxlength="3" placeholder="Ex: biz">
                    <button id="mealy-add-btn" class="magic-button">Adicionar Ingrediente</button>
                    <button id="mealy-finish-btn" class="magic-button secondary" style="display: none;">Avaliar Po√ß√£o</button>
                </div>

                <div class="mealy-stats">
                    <div class="stat">
                        <span>Sabor:</span>
                        <span id="sabor-value">0</span>
                    </div>
                    <div class="stat">
                        <span>Poder:</span>
                        <span id="poder-value">0</span>
                    </div>
                    <div class="stat">
                        <span>Ingredientes:</span>
                        <span id="ingredient-count">0</span>
                    </div>
                    <div class="stat">
                        <span>Estado:</span>
                        <span id="estado-value">q0</span>
                    </div>
                </div>

                <div id="mealy-log" class="potion-log"></div>
            </div>
        </div>

        <!-- Tela de M√°quina de Turing -->
    <div id="turing-machine" class="screen">
        <div class="mealy-container">
            <h2>M√°quina de Turing - Receita de Bolo</h2>

            <div class="options-bar">
        <button id="view-turing-file-btn" class="info-button">Ver M√°quina</button>
        <button id="view-alfabeto-btn" class="info-button">Ver Alfabeto</button>
    </div>

            <!-- Representa√ß√£o da fita da M√°quina de Turing -->
            <div class="turing-tape-container">
                <div class="turing-tape" id="turing-tape">
                    <div class="tape-cell active" id="tape-head">_</div>
                </div>
            </div>

            <div class="ingredient-input">
                <label for="turing-ingredient-input">Insira o s√≠mbolo do ingrediente:</label>
                <input type="text" id="turing-ingredient-input" maxlength="2" placeholder="Ex: f, o, a">
                <button id="turing-add-btn" class="magic-button">Adicionar Ingrediente</button>
                <button id="turing-finish-btn" class="magic-button secondary" style="display: none;">Finalizar Receita</button>
            </div>

            <div id="turing-log" class="potion-log"></div>
        </div>
    </div>


        <!-- Modal para mostrar informa√ß√µes -->
        <div id="info-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div id="modal-body"></div>
            </div>
        </div>

        <!-- Tela de Resultado -->
        <div id="result-screen" class="screen">
            <div class="result-container">
                <div id="result-title"></div>
                <div id="result-message"></div>
                <div id="result-art"></div>
                <button id="new-potion-btn" class="magic-button">Criar Nova Po√ß√£o</button>
                <button id="back-menu-btn" class="magic-button secondary">Voltar ao Menu</button>
            </div>
        </div>
    </div>

    <audio id="background-music" loop>
        <source src="sound/background.mp3" type="audio/mpeg">
    </audio>

    <audio id="ingredient-sound">
        <source src="sound/ingrediente.mp3" type="audio/mpeg">
    </audio>

    <audio id="potion-created-sound">
        <source src="sound/pocao_criada.wav" type="audio/wav">
    </audio>

    <audio id="game-over-sound">
        <source src="sound/game_over.mp3" type="audio/mpeg">
    </audio>

    <audio id="oraculo-sound">
        <source src="sound/oraculo.mp3" type="audio/mpeg">
    </audio>

    <audio id="oraculo-win-sound">
        <source src="sound/oraculo_win.mp3" type="audio/mpeg">
    </audio>

    <audio id="end-sound">
        <source src="sound/end.mp3" type="audio/mpeg">
    </audio>

    <script src="js/terminal.js"></script>
    <script src="js/alfabeto.js"></script>
    <script src="js/receita.js"></script>
    <script src="js/leitura.js"></script>
    <script src="js/automato.js"></script>
    <script src="js/mealy.js"></script>
    <script src="js/sound.js"></script>
    <script src="js/main.js"></script>
    <script src="js/moore.js"></script>
    <script src="js/turing.js"></script>

</body>
</html>
